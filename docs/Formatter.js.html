<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Formatter.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Formatter.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Gera a tabela formatada.
 */
class Formatter {

    /**
     * Cria o objeto formatador.
     * @param {Table} table - A tabela cujos dados serão formatados.
     * @param {Scraper} scraper - O scraper que contém a lista de subreddits.
     * @param {Output} output - O objeto que exibe notificações.
     */
    constructor(table, scraper, output) {
        this.table = table;
        this.scraper = scraper;
        this.output = output;
    }

    /**
     * Cria uma versão em markdown da tabela.
     */
    generateMarkdownTable() {
        let headerItems = [
            { element: 'subreddit', text: 'Subreddit' },
            { element: 'subs', text: 'Subscrições' },
            { element: 'created', text: 'Criação' },
            { element: 'nsfw', text: 'NSFW' },
            { element: 'description', text: 'Descrição' }
          ];
        let header = [];
        
        headerItems.forEach(function(item) {
            if (Input.isColumnChecked(item.element)) {
                header.push(item.text);
            }
        });

        let markdownTable = header.join('|') + '\n' + ':--|'.repeat(header.length) + '\n';

        this.scraper.subreddits.forEach(function(subreddit) {
            let line = [];
            if (Input.isColumnChecked('subreddit')) {
                line.push(subreddit.getName('markdown'));
            }
            if (Input.isColumnChecked('subs')) {
                line.push(subreddit.getSubscribers('markdown'));
            }
            if (Input.isColumnChecked('created')) {
                line.push(subreddit.getCreated('markdown'));
            }
            if (Input.isColumnChecked('nsfw')) {
                line.push(subreddit.getNsfw('markdown'));
            }
            if (Input.isColumnChecked('description')) {
                line.push(subreddit.getDescription('markdown'));
            }
            markdownTable += line.join('|') + '\n';
        });

        navigator.clipboard.writeText(markdownTable);

        this.output.notify('Markdown copiado!');
    }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="Column.html">Column</a></li><li><a href="Formatter.html">Formatter</a></li><li><a href="Input.html">Input</a></li><li><a href="Output.html">Output</a></li><li><a href="Panel.html">Panel</a></li><li><a href="ProgressBar.html">ProgressBar</a></li><li><a href="Requester.html">Requester</a></li><li><a href="Scraper.html">Scraper</a></li><li><a href="Subreddit.html">Subreddit</a></li><li><a href="Table.html">Table</a></li></ul><h3>Global</h3><ul><li><a href="global.html#main">main</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Tue Mar 05 2019 02:04:08 GMT-0300 (GMT-03:00)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
